import{r,I as M,a as P,q as H,s as L,z as _,D as B,p as U,aC as V,N as b,ae as X}from"./index-B3c4clxP.js";import{p as q,S as A}from"./TextArea-_12VLsbK.js";var Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},G=function(n,o){return r.createElement(M,P({},n,{ref:o,icon:Y}))},ie=r.forwardRef(G);const J=t=>{const{value:n,formatter:o,precision:e,decimalSeparator:a,groupSeparator:m="",prefixCls:i}=t;let l;if(typeof o=="function")l=o(n);else{const s=String(n),f=s.match(/^(-?)(\d*)(\.(\d+))?$/);if(!f||s==="-")l=s;else{const d=f[1];let p=f[2]||"0",u=f[4]||"";p=p.replace(/\B(?=(\d{3})+(?!\d))/g,m),typeof e=="number"&&(u=u.padEnd(e,"0").slice(0,e>0?e:0)),u&&(u=`${a}${u}`),l=[r.createElement("span",{key:"int",className:`${i}-content-value-int`},d,p),u&&r.createElement("span",{key:"decimal",className:`${i}-content-value-decimal`},u)]}}return r.createElement("span",{className:`${i}-content-value`},l)},K=t=>{const{componentCls:n,marginXXS:o,padding:e,colorTextDescription:a,titleFontSize:m,colorTextHeading:i,contentFontSize:l,fontFamily:s}=t;return{[n]:Object.assign(Object.assign({},_(t)),{[`${n}-title`]:{marginBottom:o,color:a,fontSize:m},[`${n}-skeleton`]:{paddingTop:e},[`${n}-content`]:{color:i,fontSize:l,fontFamily:s,[`${n}-content-value`]:{display:"inline-block",direction:"ltr"},[`${n}-content-prefix, ${n}-content-suffix`]:{display:"inline-block"},[`${n}-content-prefix`]:{marginInlineEnd:o},[`${n}-content-suffix`]:{marginInlineStart:o}}})}},Q=t=>{const{fontSizeHeading3:n,fontSize:o}=t;return{titleFontSize:o,contentFontSize:n}},W=H("Statistic",t=>{const n=L(t,{});return[K(n)]},Q);var Z=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(t);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(o[e[a]]=t[e[a]]);return o};const y=r.forwardRef((t,n)=>{const{prefixCls:o,className:e,rootClassName:a,style:m,valueStyle:i,value:l=0,title:s,valueRender:f,prefix:d,suffix:p,loading:u=!1,formatter:c,precision:g,decimalSeparator:S=".",groupSeparator:w=",",onMouseEnter:$,onMouseLeave:h}=t,C=Z(t,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:N,direction:j,className:T,style:R}=B("statistic"),v=N("statistic",o),[k,z,F]=W(v),x=r.createElement(J,{decimalSeparator:S,groupSeparator:w,prefixCls:v,formatter:c,precision:g,value:l}),I=U(v,{[`${v}-rtl`]:j==="rtl"},T,e,a,z,F),O=r.useRef(null);r.useImperativeHandle(n,()=>({nativeElement:O.current}));const D=q(C,{aria:!0,data:!0});return k(r.createElement("div",Object.assign({},D,{ref:O,className:I,style:Object.assign(Object.assign({},R),m),onMouseEnter:$,onMouseLeave:h}),s&&r.createElement("div",{className:`${v}-title`},s),r.createElement(A,{paragraph:!1,loading:u,className:`${v}-skeleton`},r.createElement("div",{style:i,className:`${v}-content`},d&&r.createElement("span",{className:`${v}-content-prefix`},d),f?f(x):x,p&&r.createElement("span",{className:`${v}-content-suffix`},p)))))}),ee=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function te(t,n){let o=t;const e=/\[[^\]]*]/g,a=(n.match(e)||[]).map(s=>s.slice(1,-1)),m=n.replace(e,"[]"),i=ee.reduce((s,[f,d])=>{if(s.includes(f)){const p=Math.floor(o/d);return o-=p*d,s.replace(new RegExp(`${f}+`,"g"),u=>{const c=u.length;return p.toString().padStart(c,"0")})}return s},m);let l=0;return i.replace(e,()=>{const s=a[l];return l+=1,s})}function ne(t,n,o){const{format:e=""}=n,a=new Date(t).getTime(),m=Date.now(),i=Math.max(o?a-m:m-a,0);return te(i,e)}var ae=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(t);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(o[e[a]]=t[e[a]]);return o};function oe(t){return new Date(t).getTime()}const E=t=>{const{value:n,format:o="HH:mm:ss",onChange:e,onFinish:a,type:m}=t,i=ae(t,["value","format","onChange","onFinish","type"]),l=m==="countdown",[s,f]=r.useState(null),d=V(()=>{const c=Date.now(),g=oe(n);f({});const S=l?g-c:c-g;return e==null||e(S),l&&g<c?(a==null||a(),!1):!0});r.useEffect(()=>{let c;const g=()=>b.cancel(c),S=()=>{c=b(()=>{d()&&S()})};return S(),g},[n,l]),r.useEffect(()=>{f({})},[]);const p=(c,g)=>s?ne(c,Object.assign(Object.assign({},g),{format:o}),l):"-",u=c=>X(c,{title:void 0});return r.createElement(y,Object.assign({},i,{value:n,valueRender:u,formatter:p}))},re=t=>r.createElement(E,Object.assign({},t,{type:"countdown"})),se=r.memo(re);y.Timer=E;y.Countdown=se;export{ie as R,y as S};
