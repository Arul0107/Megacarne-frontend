import{r as i,C as q,p as U,b1 as ve,q as we,s as Ie,z as Se,A as re,b0 as Ce,b2 as se,ae as Ae,I as G,a as J,b3 as Oe,x as Pe,o as e,S as $e,B as ae,b4 as Re,b5 as De}from"./index-B3c4clxP.js";import{i as T}from"./axios-tnHzrPy3.js";import{T as Ee}from"./index-DADOO9GK.js";import{a as Be,E as $}from"./index-D4SJkdJy.js";import{p as de,R as Te,C as z}from"./TextArea-_12VLsbK.js";import{C as R}from"./index-BtFZpN55.js";import{D as m}from"./index-BPKrW6Tf.js";import{T as Q}from"./index-BvctryC6.js";import{S as _,R as Le}from"./index-CJRlG--A.js";import{T as me}from"./index-Bw9hnc_E.js";import{C as K}from"./Collapse-BnwDFZZN.js";import{F as ne}from"./Table-C9M8vdVo.js";import{L as D}from"./index-Dwd63JZ7.js";import{R as ke}from"./DollarOutlined-9JFy97jV.js";import"./EditOutlined-KI_MCOhQ.js";import"./useClosable-DO6s99Rx.js";import"./addEventListener-CXspGW8k.js";import"./index-BjxcKn2C.js";const F=({children:t})=>{const{getPrefixCls:n}=i.useContext(q),s=n("breadcrumb");return i.createElement("li",{className:`${s}-separator`,"aria-hidden":"true"},t===""?t:t||"/")};F.__ANT_BREADCRUMB_SEPARATOR=!0;var ze=function(t,n){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&n.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(s[a[o]]=t[a[o]]);return s};function _e(t,n){if(t.title===void 0||t.title===null)return null;const s=Object.keys(n).join("|");return typeof t.title=="object"?t.title:String(t.title).replace(new RegExp(`:(${s})`,"g"),(a,o)=>n[o]||a)}function ue(t,n,s,a){if(s==null)return null;const{className:o,onClick:x}=n,u=ze(n,["className","onClick"]),g=Object.assign(Object.assign({},de(u,{data:!0,aria:!0})),{onClick:x});return a!==void 0?i.createElement("a",Object.assign({},g,{className:U(`${t}-link`,o),href:a}),s):i.createElement("span",Object.assign({},g,{className:U(`${t}-link`,o)}),s)}function Fe(t,n){return(a,o,x,u,g)=>{if(n)return n(a,o,x,u);const p=_e(a,o);return ue(t,a,p,g)}}var W=function(t,n){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&n.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(s[a[o]]=t[a[o]]);return s};const xe=t=>{const{prefixCls:n,separator:s="/",children:a,menu:o,overlay:x,dropdownProps:u,href:g}=t,S=(C=>{if(o||x){const A=Object.assign({},u);if(o){const j=o||{},{items:O}=j,b=W(j,["items"]);A.menu=Object.assign(Object.assign({},b),{items:O==null?void 0:O.map((N,h)=>{var{key:f,title:P,label:I,path:v}=N,B=W(N,["key","title","label","path"]);let r=I??P;return v&&(r=i.createElement("a",{href:`${g}${v}`},r)),Object.assign(Object.assign({},B),{key:f??h,label:r})})})}else x&&(A.overlay=x);return i.createElement(ve,Object.assign({placement:"bottom"},A),i.createElement("span",{className:`${n}-overlay-link`},C,i.createElement(Be,null)))}return C})(a);return S!=null?i.createElement(i.Fragment,null,i.createElement("li",null,S),s&&i.createElement(F,null,s)):null},he=t=>{const{prefixCls:n,children:s,href:a}=t,o=W(t,["prefixCls","children","href"]),{getPrefixCls:x}=i.useContext(q),u=x("breadcrumb",n);return i.createElement(xe,Object.assign({},o,{prefixCls:u}),ue(u,o,s,a))};he.__ANT_BREADCRUMB_ITEM=!0;const He=t=>{const{componentCls:n,iconCls:s,calc:a}=t;return{[n]:Object.assign(Object.assign({},Se(t)),{color:t.itemColor,fontSize:t.fontSize,[s]:{fontSize:t.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:t.linkColor,transition:`color ${t.motionDurationMid}`,padding:`0 ${re(t.paddingXXS)}`,borderRadius:t.borderRadiusSM,height:t.fontHeight,display:"inline-block",marginInline:a(t.marginXXS).mul(-1).equal(),"&:hover":{color:t.linkHoverColor,backgroundColor:t.colorBgTextHover}},Ce(t)),"li:last-child":{color:t.lastItemColor},[`${n}-separator`]:{marginInline:t.separatorMargin,color:t.separatorColor},[`${n}-link`]:{[`
          > ${s} + span,
          > ${s} + a
        `]:{marginInlineStart:t.marginXXS}},[`${n}-overlay-link`]:{borderRadius:t.borderRadiusSM,height:t.fontHeight,display:"inline-block",padding:`0 ${re(t.paddingXXS)}`,marginInline:a(t.marginXXS).mul(-1).equal(),[`> ${s}`]:{marginInlineStart:t.marginXXS,fontSize:t.fontSizeIcon},"&:hover":{color:t.linkHoverColor,backgroundColor:t.colorBgTextHover,a:{color:t.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${t.componentCls}-rtl`]:{direction:"rtl"}})}},Me=t=>({itemColor:t.colorTextDescription,lastItemColor:t.colorText,iconFontSize:t.fontSize,linkColor:t.colorTextDescription,linkHoverColor:t.colorText,separatorColor:t.colorTextDescription,separatorMargin:t.marginXS}),Xe=we("Breadcrumb",t=>{const n=Ie(t,{});return He(n)},Me);var oe=function(t,n){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&n.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(s[a[o]]=t[a[o]]);return s};function Ve(t){const{breadcrumbName:n,children:s}=t,a=oe(t,["breadcrumbName","children"]),o=Object.assign({title:n},a);return s&&(o.menu={items:s.map(x=>{var{breadcrumbName:u}=x,g=oe(x,["breadcrumbName"]);return Object.assign(Object.assign({},g),{title:u})})}),o}function Qe(t,n){return i.useMemo(()=>t||(n?n.map(Ve):null),[t,n])}var Ue=function(t,n){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&n.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(s[a[o]]=t[a[o]]);return s};const Ke=(t,n)=>{if(n===void 0)return n;let s=(n||"").replace(/^\//,"");return Object.keys(t).forEach(a=>{s=s.replace(`:${a}`,t[a])}),s},Y=t=>{const{prefixCls:n,separator:s="/",style:a,className:o,rootClassName:x,routes:u,items:g,children:p,itemRender:S,params:C={}}=t,A=Ue(t,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:j,direction:O,breadcrumb:b}=i.useContext(q);let N;const h=j("breadcrumb",n),[f,P,I]=Xe(h),v=Qe(g,u),B=Fe(h,S);if(v&&v.length>0){const d=[],y=g||u;N=v.map((w,k)=>{const{path:ge,key:H,type:pe,menu:Z,overlay:ee,onClick:be,className:fe,separator:ye,dropdownProps:Ne}=w,M=Ke(C,ge);M!==void 0&&d.push(M);const te=H??k;if(pe==="separator")return i.createElement(F,{key:te},ye);const X={},je=k===v.length-1;Z?X.menu=Z:ee&&(X.overlay=ee);let{href:V}=w;return d.length&&M!==void 0&&(V=`#/${d.join("/")}`),i.createElement(xe,Object.assign({key:te},X,de(w,{data:!0,aria:!0}),{className:fe,dropdownProps:Ne,href:V,separator:je?"":s,onClick:be,prefixCls:h}),B(w,C,y,d,V))})}else if(p){const d=se(p).length;N=se(p).map((y,w)=>{if(!y)return y;const k=w===d-1;return Ae(y,{separator:k?"":s,key:w})})}const r=U(h,b==null?void 0:b.className,{[`${h}-rtl`]:O==="rtl"},o,x,P,I),c=Object.assign(Object.assign({},b==null?void 0:b.style),a);return f(i.createElement("nav",Object.assign({className:r,style:c},A),i.createElement("ol",null,N)))};Y.Item=he;Y.Separator=F;var We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},qe=function(n,s){return i.createElement(G,J({},n,{ref:s,icon:We}))},le=i.forwardRef(qe),Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},Je=function(n,s){return i.createElement(G,J({},n,{ref:s,icon:Ge}))},ie=i.forwardRef(Je),Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},Ze=function(n,s){return i.createElement(G,J({},n,{ref:s,icon:Ye}))},et=i.forwardRef(Ze);const{TabPane:L}=me,{Title:E,Text:l}=Ee,{Panel:ce}=K,yt=()=>{const{id:t}=Oe(),n=Pe(),[s,a]=i.useState(null),[o,x]=i.useState(!0),[u,g]=i.useState([]),[p,S]=i.useState([]),[C,A]=i.useState([]),[j,O]=i.useState([]);if(i.useEffect(()=>{x(!0),Promise.all([T.get(`/api/accounts/${t}`),T.get(`/api/quotations/business/${t}`),T.get(`/api/invoices/business/${t}`),T.get(`/api/accounts/${t}/followups`),T.get(`/api/invoices/business/${t}/payments`)]).then(([r,c,d,y,w])=>{a(r.data),g(c.data||[]),S(d.data||[]),A(y.data||[]),O(w.data||[])}).catch(r=>{console.error("Failed to load data:",r)}).finally(()=>x(!1))},[t]),o)return e.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:e.jsx($e,{size:"large",tip:"Loading Customer Profile..."})});if(!s)return e.jsxs("div",{className:"p-6 bg-white shadow-lg rounded-lg m-6",children:[e.jsx(ae,{className:"mb-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md transition duration-300 ease-in-out",icon:e.jsx(le,{}),onClick:()=>n("/customers"),children:"Back to Customers"}),e.jsx(E,{level:3,className:"mt-4 text-center text-gray-700",children:"Customer Not Found"}),e.jsx($,{description:"No data found for this customer ID. It might not exist or there was an issue fetching it.",className:"mt-8"})]});const b=[...C].sort((r,c)=>new Date(c.followupDate||c.date)-new Date(r.followupDate||r.date)),N=[...s.notes||[]].sort((r,c)=>new Date(c.timestamp)-new Date(r.timestamp)),h=r=>`₹${Number(r||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,f=r=>{if(!r)return"N/A";try{return new Date(r).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch(c){return console.error("Error formatting date:",r,c),r}},P=r=>{const c=[];return r.addressLine1&&c.push(r.addressLine1),r.addressLine2&&c.push(r.addressLine2),r.addressLine3&&c.push(r.addressLine3),r.city&&c.push(r.city),r.state&&c.push(r.state),r.pincode&&c.push(r.pincode),r.country&&c.push(r.country),c.length>0?c.join(", "):"N/A"},I=p.reduce((r,c)=>r+(c.totalAmount||0),0),v=j.reduce((r,c)=>r+(c.amount||0),0),B=I-v;return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen font-sans",children:[e.jsx(Y,{className:"mb-4 text-gray-600",items:[{title:"Customers",href:"/customers"},{title:s.businessName||"Profile"}]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx(ae,{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out flex items-center space-x-2",icon:e.jsx(le,{}),onClick:()=>n(-1),children:"Back"}),e.jsxs(E,{level:2,className:"text-gray-800 font-extrabold mb-0 text-center sm:text-left",children:[s.businessName," Profile"]})]}),e.jsx(R,{title:e.jsx(E,{level:4,className:"text-gray-800 font-bold mb-0",children:"Customer Details"}),className:"shadow-xl rounded-xl mb-8 border-t-8 border-blue-600 transform hover:scale-100 transition duration-300 ease-in-out",children:e.jsxs(m,{bordered:!0,column:{xs:1,sm:2,md:2,lg:3},size:"middle",className:"text-gray-700",children:[e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Business Name"}),children:e.jsx(l,{strong:!0,className:"text-gray-900",children:s.businessName||"N/A"})}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"GSTIN"}),children:s.gstNumber||"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Customer Name"}),children:s.contactName||"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Email"}),children:s.email||"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Phone Number"}),children:s.phoneNumber||"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Status"}),children:e.jsx(Q,{color:s.status==="Active"?"green":s.status==="Inactive"?"red":"blue",className:"rounded-full px-3 py-1 text-sm font-medium",children:s.status||"N/A"})}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Type"}),children:s.type||"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Customer Address"}),span:3,children:P(s)}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Created At"}),children:s.createdAt?new Date(s.createdAt).toLocaleString():"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Last Updated"}),children:s.updatedAt?new Date(s.updatedAt).toLocaleString():"N/A"})]})}),e.jsx(R,{title:e.jsxs(E,{level:4,className:"text-gray-800 font-bold mb-0 flex items-center space-x-2",children:[e.jsx(Re,{}),e.jsx("span",{children:"Summary Dashboard"})]}),className:"shadow-xl rounded-xl mb-8 border-t-8 border-purple-600 transform hover:scale-100 transition duration-300 ease-in-out",children:e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsxs(Te,{gutter:[24,24],justify:"center",children:[e.jsx(z,{xs:24,sm:12,md:8,lg:6,children:e.jsx(R,{className:"shadow-lg rounded-xl border-l-8 border-blue-500 hover:shadow-xl transition-shadow duration-300 ease-in-out",children:e.jsx(_,{title:e.jsx(l,{strong:!0,className:"text-gray-700",children:"Total Quotations"}),value:u.length,valueStyle:{color:"#ef7a1b",fontWeight:"bold"}})})}),e.jsx(z,{xs:24,sm:12,md:8,lg:6,children:e.jsx(R,{className:"shadow-lg rounded-xl border-l-8 border-green-500 hover:shadow-xl transition-shadow duration-300 ease-in-out",children:e.jsx(_,{title:e.jsx(l,{strong:!0,className:"text-gray-700",children:"Total Invoices"}),value:p.length,valueStyle:{color:"#52c41a",fontWeight:"bold"}})})}),e.jsx(z,{xs:24,sm:12,md:8,lg:6,children:e.jsx(R,{className:"shadow-lg rounded-xl border-l-8 border-purple-500 hover:shadow-xl transition-shadow duration-300 ease-in-out",children:e.jsx(_,{title:e.jsx(l,{strong:!0,className:"text-gray-700",children:"Total Invoiced Amount"}),value:I,precision:2,prefix:"₹",valueStyle:{color:"#722ed1",fontWeight:"bold"}})})}),e.jsx(z,{xs:24,sm:12,md:8,lg:6,children:e.jsx(R,{className:"shadow-lg rounded-xl border-l-8 border-red-500 hover:shadow-xl transition-shadow duration-300 ease-in-out",children:e.jsx(_,{title:e.jsx(l,{strong:!0,className:"text-gray-700",children:"Total Pending Amount"}),value:B,precision:2,prefix:"₹",valueStyle:{color:"#f5222d",fontWeight:"bold"}})})})]})})}),e.jsxs(me,{defaultActiveKey:"1",className:"bg-white p-4 rounded-xl shadow-xl",tabBarStyle:{marginBottom:24},children:[e.jsx(L,{tab:e.jsxs("span",{className:"flex items-center space-x-2 text-lg font-semibold text-gray-700 hover:text-blue-600 transition-colors duration-200",children:[e.jsx(Le,{className:"text-xl"}),e.jsxs("span",{children:["Quotations (",u.length,")"]})]}),children:u.length===0?e.jsx($,{description:"No quotations found for this customer.",className:"py-8"}):e.jsx(K,{accordion:!0,className:"shadow-md rounded-lg overflow-hidden",expandIconPosition:"end",children:u.map((r,c)=>e.jsxs(ce,{header:e.jsxs("div",{className:"font-semibold text-lg flex justify-between items-center py-2",children:[e.jsxs("span",{className:"text-gray-800",children:["Quotation #",r.quotationNumber||"N/A"]}),e.jsx("span",{className:"text-green-600 text-xl font-bold",children:h(r.totalAmount)})]}),className:"bg-white border-b border-gray-200 rounded-lg mb-2 overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 ease-in-out",children:[e.jsxs(m,{bordered:!0,column:{xs:1,sm:2,md:2},size:"small",className:"mb-4 text-gray-700",children:[e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Date"}),children:f(r.date)}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Status"}),children:e.jsx(Q,{color:r.status==="Approved"?"green":r.status==="Pending"?"orange":r.status==="Rejected"?"red":"blue",className:"rounded-full px-3 py-1 text-sm font-medium",children:r.status||"N/A"})}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Customer Name"}),children:s.contactName||"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"GSTIN"}),children:s.gstNumber||"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Customer Address"}),span:2,children:P(s)})]}),e.jsx(E,{level:5,className:"mt-6 mb-3 text-gray-800 font-bold",children:"Items Quoted"}),e.jsx(ne,{dataSource:r.items||[],columns:[{title:"Product Name",dataIndex:"productName",key:"productName",render:d=>d||"N/A"},{title:"Description",dataIndex:"description",key:"description"},{title:"HSN/SAC",dataIndex:"hsn",key:"hsn"},{title:"Qty",dataIndex:"quantity",key:"quantity"},{title:"Rate (₹)",dataIndex:"rate",key:"rate",render:d=>h(d)},{title:"Amount (₹)",dataIndex:"amount",key:"amount",render:d=>h(d)}],pagination:!1,rowKey:(d,y)=>y,size:"small",className:"border border-gray-200 rounded-md overflow-hidden shadow-sm"})]},r._id||c))})},"1"),e.jsx(L,{tab:e.jsxs("span",{className:"flex items-center space-x-2 text-lg font-semibold text-gray-700 hover:text-blue-600 transition-colors duration-200",children:[e.jsx(De,{className:"text-xl"}),e.jsxs("span",{children:["Invoices (",p.length,")"]})]}),children:p.length===0?e.jsx($,{description:"No invoices found for this customer.",className:"py-8"}):e.jsx(K,{accordion:!0,className:"shadow-md rounded-lg overflow-hidden",expandIconPosition:"end",children:p.map((r,c)=>e.jsxs(ce,{header:e.jsxs("div",{className:"font-semibold text-lg flex justify-between items-center py-2",children:[e.jsxs("span",{className:"text-gray-800",children:["Invoice #",r.invoiceNumber||"N/A"]}),e.jsx("span",{className:"text-green-600 text-xl font-bold",children:h(r.totalAmount)})]}),className:"bg-white border-b border-gray-200 rounded-lg mb-2 overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 ease-in-out",children:[e.jsxs(m,{bordered:!0,size:"small",column:{xs:1,sm:2,md:2},className:"mb-4 text-gray-700",children:[e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Date"}),children:f(r.date)}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Due Date"}),children:f(r.dueDate)}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Status"}),children:e.jsx(Q,{color:r.paymentStatus==="Paid"?"green":r.paymentStatus==="Pending"?"orange":r.paymentStatus==="Overdue"?"red":"blue",className:"rounded-full px-3 py-1 text-sm font-medium",children:r.paymentStatus||"N/A"})}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Customer Name"}),children:s.contactName||"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"GSTIN"}),children:s.gstNumber||"N/A"}),e.jsx(m.Item,{label:e.jsx(l,{strong:!0,className:"text-gray-600",children:"Customer Address"}),span:2,children:P(s)})]}),e.jsx(E,{level:5,className:"mt-6 mb-3 text-gray-800 font-bold",children:"Items Invoiced"}),e.jsx(ne,{dataSource:r.items||[],columns:[{title:"Product Name",dataIndex:"productName",key:"productName",render:d=>d||"N/A"},{title:"Description",dataIndex:"description",key:"description"},{title:"HSN/SAC",dataIndex:"hsn",key:"hsn"},{title:"Qty",dataIndex:"quantity",key:"quantity"},{title:"Rate (₹)",dataIndex:"rate",key:"rate",render:d=>h(d)},{title:"Amount (₹)",dataIndex:"amount",key:"amount",render:d=>h(d)}],pagination:!1,rowKey:(d,y)=>y,size:"small",className:"border border-gray-200 rounded-md overflow-hidden shadow-sm"})]},r._id||c))})},"2"),e.jsx(L,{tab:e.jsxs("span",{className:"flex items-center space-x-2 text-lg font-semibold text-gray-700 hover:text-blue-600 transition-colors duration-200",children:[e.jsx(et,{className:"text-xl"}),e.jsxs("span",{children:["Follow-ups (",b.length,")"]})]}),children:b.length===0?e.jsx($,{description:"No follow-ups found for this customer.",className:"py-8"}):e.jsx(D,{bordered:!0,dataSource:b,className:"rounded-lg overflow-hidden shadow-md",renderItem:r=>e.jsx(D.Item,{className:"flex flex-col items-start bg-white p-5 hover:bg-gray-50 transition-colors duration-200 border-b border-gray-200 last:border-b-0",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"font-semibold text-gray-800 text-base mb-2 flex items-center",children:[e.jsx("span",{className:"mr-3 text-blue-500 text-xl",children:e.jsx(ie,{})}),e.jsx(l,{strong:!0,children:"Date:"})," ",e.jsx("span",{className:"ml-2",children:f(r.followupDate||r.date)})]}),e.jsxs("div",{className:"text-gray-800 mb-2 leading-relaxed text-base",children:[e.jsx(l,{strong:!0,children:"Note:"})," ",r.note||r.comment||"No comment provided"]}),r.addedBy&&e.jsxs("div",{className:"text-sm text-gray-500 mt-3 border-t border-gray-100 pt-2",children:["Added by: ",e.jsx(l,{italic:!0,children:r.addedBy.name||r.addedBy.email||"Unknown"})]})]})})})},"3"),e.jsx(L,{tab:e.jsxs("span",{className:"flex items-center space-x-2 text-lg font-semibold text-gray-700 hover:text-blue-600 transition-colors duration-200",children:[e.jsx(ke,{className:"text-xl"}),e.jsxs("span",{children:["Payments (",j.length,")"]})]}),children:j.length===0?e.jsx($,{description:"No payments found for this customer.",className:"py-8"}):e.jsx(D,{bordered:!0,dataSource:j,className:"rounded-lg overflow-hidden shadow-md",renderItem:r=>e.jsxs(D.Item,{className:"flex items-center justify-between bg-white p-5 hover:bg-gray-50 transition-colors duration-200 border-b border-gray-200 last:border-b-0",children:[e.jsxs("div",{className:"flex-grow flex items-center",children:[e.jsx(l,{strong:!0,className:"text-green-600 text-xl mr-2",children:h(r.amount)}),e.jsxs(l,{className:"text-gray-700 text-base",children:["via ",r.method||"N/A"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 text-right",children:[e.jsx("span",{className:"block",children:f(r.date)}),e.jsxs("span",{className:"block",children:["by ",r.addedBy||"Unknown"]})]})]})})},"4"),e.jsx(L,{tab:e.jsxs("span",{className:"flex items-center space-x-2 text-lg font-semibold text-gray-700 hover:text-blue-600 transition-colors duration-200",children:[e.jsx(ie,{className:"text-xl"}),e.jsxs("span",{children:["Notes (",N.length,")"]})]}),children:N.length===0?e.jsx($,{description:"No notes available for this customer.",className:"py-8"}):e.jsx(D,{bordered:!0,dataSource:N,className:"rounded-lg overflow-hidden shadow-md",renderItem:r=>{var c,d;return e.jsx(D.Item,{className:"flex flex-col items-start bg-white p-5 hover:bg-gray-50 transition-colors duration-200 border-b border-gray-200 last:border-b-0",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"text-gray-800 text-base leading-relaxed mb-2",children:[e.jsx(l,{strong:!0,children:"Note:"})," ",r.text||"No text provided"]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-3 border-t border-gray-100 pt-2",children:["Added by: ",e.jsx(l,{italic:!0,children:r.author||((c=r.addedBy)==null?void 0:c.name)||((d=r.addedBy)==null?void 0:d.email)||"Unknown"})," | ",r.timestamp?new Date(r.timestamp).toLocaleString():"N/A"]})]})})}})},"5")]})]})};export{yt as default};
