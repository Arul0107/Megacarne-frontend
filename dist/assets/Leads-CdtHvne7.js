import{r as g,k as xe,P as le,h as ye,v as re,i as Q,D as fe,al as J,p as je,H as Se,q as be,s as L,am as Ce,a1 as Ie,ab as $e,ae as we,L as ve,an as ke,ao as Ne,R as V,n as e,B as M,y as C,o as Ae}from"./index-DOl5o0Fi.js";import{a as R}from"./index-xsH4HHeE.js";import{F as p}from"./index-BGklyIoz.js";import{D as ce}from"./index-C1jWW2JK.js";import{R as F,C as k}from"./row-Py5ar9wK.js";import{I as j}from"./index-BuLJMp6D.js";import{T as Te}from"./index-6Ojxmyu-.js";import{S as oe,R as Me,E as ee}from"./index-DdA_pnqc.js";import{L as te}from"./index-CSGtnS7J.js";import{T as de}from"./index-urhnUZZj.js";import{R as Ee,a as Pe}from"./TextArea-C4DPS5YY.js";import{R as ue,F as ne}from"./Table-C5Y_brLg.js";import{P as Le}from"./index-CKdYz8QF.js";import{R as qe}from"./DeleteOutlined-CLFo74kb.js";import{D as De}from"./index-6_qPCQ4T.js";import{R as he}from"./PlusOutlined-FiOkOQB_.js";import{C as Re,T as me}from"./index-BzoFmVq5.js";import{M as He}from"./index-JO2pgooI.js";import{R as ze}from"./MessageOutlined-DbPnkpAp.js";import{T as K}from"./index-SpzIKIyO.js";import"./context-CmZbqAFB.js";import"./useClosable-B_lu9RL-.js";import"./index-CcH3ZLi-.js";import"./InfoCircleFilled-BfnhUeHt.js";var Fe=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],ge=g.forwardRef(function(t,n){var s,a=t.prefixCls,c=a===void 0?"rc-switch":a,o=t.className,m=t.checked,r=t.defaultChecked,i=t.disabled,l=t.loadingIcon,h=t.checkedChildren,f=t.unCheckedChildren,I=t.onClick,$=t.onChange,v=t.onKeyDown,q=xe(t,Fe),x=le(!1,{value:m,defaultValue:r}),u=ye(x,2),w=u[0],N=u[1];function E(b,D){var P=w;return i||(P=b,N(P),$==null||$(P,D)),P}function A(b){b.which===J.LEFT?E(!1,b):b.which===J.RIGHT&&E(!0,b),v==null||v(b)}function S(b){var D=E(!w,b);I==null||I(D,b)}var H=re(c,o,(s={},Q(s,"".concat(c,"-checked"),w),Q(s,"".concat(c,"-disabled"),i),s));return g.createElement("button",fe({},q,{type:"button",role:"switch","aria-checked":w,disabled:i,className:H,ref:n,onKeyDown:A,onClick:S}),l,g.createElement("span",{className:"".concat(c,"-inner")},g.createElement("span",{className:"".concat(c,"-inner-checked")},h),g.createElement("span",{className:"".concat(c,"-inner-unchecked")},f)))});ge.displayName="Switch";const Oe=t=>{const{componentCls:n,trackHeightSM:s,trackPadding:a,trackMinWidthSM:c,innerMinMarginSM:o,innerMaxMarginSM:m,handleSizeSM:r,calc:i}=t,l=`${n}-inner`,h=L(i(r).add(i(a).mul(2)).equal()),f=L(i(m).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:c,height:s,lineHeight:L(s),[`${n}-inner`]:{paddingInlineStart:m,paddingInlineEnd:o,[`${l}-checked, ${l}-unchecked`]:{minHeight:s},[`${l}-checked`]:{marginInlineStart:`calc(-100% + ${h} - ${f})`,marginInlineEnd:`calc(100% - ${h} + ${f})`},[`${l}-unchecked`]:{marginTop:i(s).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:r,height:r},[`${n}-loading-icon`]:{top:i(i(r).sub(t.switchLoadingIconSize)).div(2).equal(),fontSize:t.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:o,paddingInlineEnd:m,[`${l}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${l}-unchecked`]:{marginInlineStart:`calc(100% - ${h} + ${f})`,marginInlineEnd:`calc(-100% + ${h} - ${f})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${L(i(r).add(a).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${l}`]:{[`${l}-unchecked`]:{marginInlineStart:i(t.marginXXS).div(2).equal(),marginInlineEnd:i(t.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${l}`]:{[`${l}-checked`]:{marginInlineStart:i(t.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:i(t.marginXXS).div(2).equal()}}}}}}},_e=t=>{const{componentCls:n,handleSize:s,calc:a}=t;return{[n]:{[`${n}-loading-icon${t.iconCls}`]:{position:"relative",top:a(a(s).sub(t.fontSize)).div(2).equal(),color:t.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:t.switchColor}}}},Be=t=>{const{componentCls:n,trackPadding:s,handleBg:a,handleShadow:c,handleSize:o,calc:m}=t,r=`${n}-handle`;return{[n]:{[r]:{position:"absolute",top:s,insetInlineStart:s,width:o,height:o,transition:`all ${t.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:a,borderRadius:m(o).div(2).equal(),boxShadow:c,transition:`all ${t.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${r}`]:{insetInlineStart:`calc(100% - ${L(m(o).add(s).equal())})`},[`&:not(${n}-disabled):active`]:{[`${r}::before`]:{insetInlineEnd:t.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${r}::before`]:{insetInlineEnd:0,insetInlineStart:t.switchHandleActiveInset}}}}},We=t=>{const{componentCls:n,trackHeight:s,trackPadding:a,innerMinMargin:c,innerMaxMargin:o,handleSize:m,calc:r}=t,i=`${n}-inner`,l=L(r(m).add(r(a).mul(2)).equal()),h=L(r(o).mul(2).equal());return{[n]:{[i]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:o,paddingInlineEnd:c,transition:`padding-inline-start ${t.switchDuration} ease-in-out, padding-inline-end ${t.switchDuration} ease-in-out`,[`${i}-checked, ${i}-unchecked`]:{display:"block",color:t.colorTextLightSolid,fontSize:t.fontSizeSM,transition:`margin-inline-start ${t.switchDuration} ease-in-out, margin-inline-end ${t.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:s},[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${l} - ${h})`,marginInlineEnd:`calc(100% - ${l} + ${h})`},[`${i}-unchecked`]:{marginTop:r(s).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${i}`]:{paddingInlineStart:c,paddingInlineEnd:o,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${l} + ${h})`,marginInlineEnd:`calc(-100% + ${l} - ${h})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:r(a).mul(2).equal(),marginInlineEnd:r(a).mul(-1).mul(2).equal()}},[`&${n}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:r(a).mul(-1).mul(2).equal(),marginInlineEnd:r(a).mul(2).equal()}}}}}},Ke=t=>{const{componentCls:n,trackHeight:s,trackMinWidth:a}=t;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},be(t)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:a,height:s,lineHeight:L(s),verticalAlign:"middle",background:t.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${t.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:t.colorTextTertiary}}),Ce(t)),{[`&${n}-checked`]:{background:t.switchColor,[`&:hover:not(${n}-disabled)`]:{background:t.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:t.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},Xe=t=>{const{fontSize:n,lineHeight:s,controlHeight:a,colorWhite:c}=t,o=n*s,m=a/2,r=2,i=o-r*2,l=m-r*2;return{trackHeight:o,trackHeightSM:m,trackMinWidth:i*2+r*4,trackMinWidthSM:l*2+r*2,trackPadding:r,handleBg:c,handleSize:i,handleSizeSM:l,handleShadow:`0 2px 4px 0 ${new Ie("#00230b").setA(.2).toRgbString()}`,innerMinMargin:i/2,innerMaxMargin:i+r+r*2,innerMinMarginSM:l/2,innerMaxMarginSM:l+r+r*2}},Ue=je("Switch",t=>{const n=Se(t,{switchDuration:t.motionDurationMid,switchColor:t.colorPrimary,switchDisabledOpacity:t.opacityLoading,switchLoadingIconSize:t.calc(t.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${t.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Ke(n),We(n),Be(n),_e(n),Oe(n)]},Xe);var Ze=function(t,n){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&n.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(t);c<a.length;c++)n.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(t,a[c])&&(s[a[c]]=t[a[c]]);return s};const Ge=g.forwardRef((t,n)=>{const{prefixCls:s,size:a,disabled:c,loading:o,className:m,rootClassName:r,style:i,checked:l,value:h,defaultChecked:f,defaultValue:I,onChange:$}=t,v=Ze(t,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[q,x]=le(!1,{value:l??h,defaultValue:f??I}),{getPrefixCls:u,direction:w,switch:N}=g.useContext($e),E=g.useContext(we),A=(c??E)||o,S=u("switch",s),H=g.createElement("div",{className:`${S}-handle`},o&&g.createElement(Ne,{className:`${S}-loading-icon`})),[b,D,P]=Ue(S),U=ve(a),O=re(N==null?void 0:N.className,{[`${S}-small`]:U==="small",[`${S}-loading`]:o,[`${S}-rtl`]:w==="rtl"},m,r,D,P),_=Object.assign(Object.assign({},N==null?void 0:N.style),i),B=(...W)=>{x(W[0]),$==null||$.apply(void 0,W)};return b(g.createElement(ke,{component:"Switch"},g.createElement(ge,Object.assign({},v,{checked:q,onChange:B,prefixCls:S,className:O,style:_,disabled:A,ref:n,loadingIcon:H}))))}),pe=Ge;pe.__ANT_SWITCH=!0;const{TextArea:Ye}=j,{Option:Z}=oe,Qe=({visible:t,onClose:n,onSave:s,initialValues:a})=>{var i;const[c]=p.useForm(),[o,m]=V.useState(!1);V.useEffect(()=>{c.resetFields(),a&&c.setFieldsValue(a)},[a,c]);const r=()=>{c.validateFields().then(l=>{m(!0);const h=new Date().toLocaleString(),f=l.noteInput?{text:l.noteInput,timestamp:h}:null,I=(a==null?void 0:a.notes)||[],$=f?[...I,f]:I,v={...l,notes:$};delete v.noteInput,s(v),C.success(`Account ${a?"updated":"created"} successfully!`),m(!1),n()}).catch(l=>{console.log("Validate Failed:",l),C.error("Please fill all required fields correctly")})};return e.jsx(ce,{title:a?"Edit Business Account":"Add New Business Account",width:720,onClose:n,visible:t,bodyStyle:{paddingBottom:80},footer:e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx(M,{onClick:n,style:{marginRight:8},children:"Cancel"}),e.jsx(M,{onClick:r,type:"primary",loading:o,children:"Submit"})]}),children:e.jsxs(p,{form:c,layout:"vertical",children:[e.jsxs(F,{gutter:16,children:[e.jsx(k,{span:12,children:e.jsx(p.Item,{name:"businessName",label:"Business Name",rules:[{required:!0,message:"Please enter business name"}],children:e.jsx(j,{placeholder:"Business Name"})})}),e.jsx(k,{span:12,children:e.jsx(p.Item,{name:"gstNumber",label:"GST Number",rules:[{required:!0,message:"Please enter GST number"},{pattern:/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,message:"Invalid GST format"}],children:e.jsx(j,{placeholder:"22AABCU9603R12X"})})})]}),e.jsxs(F,{gutter:16,children:[e.jsx(k,{span:12,children:e.jsx(p.Item,{name:"contactName",label:"Contact Name",rules:[{required:!0,message:"Please enter contact name"}],children:e.jsx(j,{placeholder:"Contact Name"})})}),e.jsx(k,{span:12,children:e.jsx(p.Item,{name:"email",label:"Email Id",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Invalid email format"}],children:e.jsx(j,{placeholder:"Email Id"})})})]}),e.jsxs(F,{gutter:16,children:[e.jsx(k,{span:12,children:e.jsx(p.Item,{name:"phoneNumber",label:"Phone Number",children:e.jsx(j,{placeholder:"0422 264925"})})}),e.jsx(k,{span:12,children:e.jsx(p.Item,{name:"mobileNumber",label:"Mobile Number",rules:[{required:!0,message:"Please enter mobile number"}],children:e.jsx(j,{placeholder:"(123) 456-7890"})})})]}),e.jsx(p.Item,{name:"addressLine1",label:"Address Line 1",rules:[{required:!0,message:"Please enter address"}],children:e.jsx(j,{placeholder:"Address Line 1"})}),e.jsx(p.Item,{name:"addressLine2",label:"Address Line 2",children:e.jsx(j,{placeholder:"Address Line 2"})}),e.jsx(p.Item,{name:"addressLine3",label:"Address Line 3",children:e.jsx(j,{placeholder:"Address Line 3"})}),e.jsxs(F,{gutter:16,children:[e.jsx(k,{span:8,children:e.jsx(p.Item,{name:"landmark",label:"Land Mark",children:e.jsx(j,{placeholder:"Land Mark"})})}),e.jsx(k,{span:8,children:e.jsx(p.Item,{name:"city",label:"City",rules:[{required:!0,message:"Please enter city"}],children:e.jsx(j,{placeholder:"City"})})}),e.jsx(k,{span:8,children:e.jsx(p.Item,{name:"pincode",label:"Pincode",rules:[{required:!0,message:"Please enter pincode"}],children:e.jsx(Te,{style:{width:"100%"},placeholder:"Pincode"})})})]}),e.jsxs(F,{gutter:16,children:[e.jsx(k,{span:12,children:e.jsx(p.Item,{name:"state",label:"State",rules:[{required:!0,message:"Please enter state"}],children:e.jsx(j,{placeholder:"State"})})}),e.jsx(k,{span:12,children:e.jsx(p.Item,{name:"country",label:"Country",rules:[{required:!0,message:"Please enter country"}],children:e.jsx(j,{placeholder:"Country"})})})]}),e.jsx(p.Item,{name:"website",label:"Website URL",rules:[{type:"url",message:"Invalid URL format"}],children:e.jsx(j,{placeholder:"https://www.example.com"})}),e.jsx(p.Item,{name:"type",label:"Lead Type",rules:[{required:!0,message:"Please select a lead type"}],children:e.jsxs(oe,{placeholder:"Select Type",children:[e.jsx(Z,{value:"Hot",children:"Hot"}),e.jsx(Z,{value:"Warm",children:"Warm"}),e.jsx(Z,{value:"Cold",children:"Cold"})]})}),e.jsx(p.Item,{name:"noteInput",label:"Add Note",children:e.jsx(Ye,{rows:3,placeholder:"Add a note (it will be timestamped)"})}),((i=a==null?void 0:a.notes)==null?void 0:i.length)>0&&e.jsxs("div",{style:{marginBottom:24},children:[e.jsx("label",{children:e.jsx("strong",{children:"Previous Notes"})}),e.jsx("ul",{style:{paddingLeft:20},children:a.notes.map((l,h)=>e.jsxs("li",{children:[e.jsxs("strong",{children:[l.timestamp,":"]})," ",l.text]},h))})]})]})})},{TextArea:se}=j,{Text:ae,Title:Je}=de,Ve=({visible:t,onClose:n,account:s,refreshAccounts:a})=>{const[c]=p.useForm(),[o,m]=g.useState(!1),[r,i]=g.useState(null),[l,h]=g.useState(""),f=async()=>{try{const{note:x}=await c.validateFields();m(!0);const u={text:x,timestamp:new Date().toLocaleString()},w=[...s.notes||[],u];await R.put(`/api/accounts/${s._id}`,{...s,notes:w}),C.success("Note added successfully!"),c.resetFields(),a()}catch(x){console.error(x),C.error("Failed to add note. Please try again.")}finally{m(!1)}},I=async x=>{try{m(!0);const u=[...s.notes];u.splice(x,1),await R.put(`/api/accounts/${s._id}`,{...s,notes:u}),C.success("Note deleted successfully!"),a()}catch(u){console.error(u),C.error("Failed to delete note. Please try again.")}finally{m(!1)}},$=(x,u)=>{i(u),h(x.text)},v=async x=>{try{m(!0);const u=[...s.notes];u[x]={...u[x],text:l},await R.put(`/api/accounts/${s._id}`,{...s,notes:u}),C.success("Note updated successfully!"),i(null),h(""),a()}catch(u){console.error(u),C.error("Failed to update note. Please try again.")}finally{m(!1)}},q=()=>{i(null),h("")};return e.jsxs(ce,{title:e.jsxs(Je,{level:4,style:{margin:0},children:["Notes for ",s.businessName]}),open:t,onClose:n,width:420,bodyStyle:{padding:"24px"},children:[s.notes&&s.notes.length>0?e.jsx(te,{size:"small",bordered:!0,dataSource:s.notes,renderItem:(x,u)=>e.jsxs(te.Item,{style:{padding:"12px 16px",borderRadius:4,backgroundColor:"#fafafa",marginBottom:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(ae,{type:"secondary",style:{fontSize:12},children:x.timestamp}),e.jsx(Ae,{size:"middle",children:r===u?e.jsxs(e.Fragment,{children:[e.jsx(M,{icon:e.jsx(Me,{}),type:"link",onClick:()=>v(u),loading:o}),e.jsx(M,{icon:e.jsx(Ee,{}),type:"link",onClick:q,disabled:o})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{icon:e.jsx(ue,{}),type:"link",onClick:()=>$(x,u),disabled:o}),e.jsx(Le,{title:"Delete this note?",okText:"Yes",cancelText:"No",onConfirm:()=>I(u),disabled:o,children:e.jsx(M,{icon:e.jsx(qe,{}),type:"link",danger:!0,disabled:o})})]})})]}),r===u?e.jsx(se,{value:l,onChange:w=>h(w.target.value),rows:2,style:{marginTop:4},disabled:o}):e.jsx("div",{style:{marginTop:4},children:x.text})]},u)}):e.jsx(ae,{type:"secondary",children:"No notes to show"}),e.jsx(De,{}),e.jsxs(p,{form:c,layout:"vertical",style:{marginTop:16},children:[e.jsx(p.Item,{name:"note",label:"Add Note",rules:[{required:!0,message:"Please enter a note"}],children:e.jsx(se,{rows:3,placeholder:"Type your note here...",disabled:o})}),e.jsx(M,{type:"primary",icon:e.jsx(he,{}),onClick:f,loading:o,block:!0,children:"Add Note"})]})]})},{Title:et}=de,{TabPane:ie}=me,X="/api/accounts",wt=()=>{const[t,n]=g.useState(!1),[s,a]=g.useState(null),[c,o]=g.useState(""),[m,r]=g.useState("active"),[i,l]=g.useState(!1),[h,f]=g.useState(null),[I,$]=g.useState(null),[v,q]=g.useState([]),[x,u]=g.useState(!1),[w,N]=g.useState(null),[E,A]=g.useState(!1),S=()=>{A(!0),R.get(X).then(d=>{q(d.data),C.success("Accounts loaded successfully")}).catch(()=>{C.error("Failed to load accounts. Please try again.")}).finally(()=>{A(!1)})};g.useEffect(()=>{S()},[]);const H=d=>{A(!0),(s!=null&&s._id?R.put(`${X}/${s._id}`,d):R.post(X,d)).then(()=>{C.success(`Account ${s!=null&&s._id?"updated":"created"} successfully!`),S()}).catch(()=>{C.error(`Failed to ${s!=null&&s._id?"update":"create"} account. Please try again.`)}).finally(()=>{A(!1),n(!1),a(null)})},b=d=>{a(d),n(!0)},D=d=>{N(d),u(!0)},P=(d,y)=>{f(y),$(d?"Active":"Inactive"),l(!0)},U=()=>{A(!0);const d={...h,status:I};R.put(`${X}/${h._id}`,d).then(()=>{C.success("Account status updated successfully!"),S()}).catch(()=>{C.error("Failed to update status. Please try again.")}).finally(()=>{l(!1),A(!1)})},O=v.filter(d=>{var T,z,Y;const y=c.toLowerCase();return((T=d.businessName)==null?void 0:T.toLowerCase().includes(y))||((z=d.contactName)==null?void 0:z.toLowerCase().includes(y))||((Y=d.email)==null?void 0:Y.toLowerCase().includes(y))}),_=O.filter(d=>d.status==="Active"),B=O.filter(d=>d.status==="Inactive"),W=d=>{switch(d){case"Hot":return e.jsx(K,{color:"red",children:"Hot"});case"Warm":return e.jsx(K,{color:"orange",children:"Warm"});case"Cold":return e.jsx(K,{color:"blue",children:"Cold"});default:return e.jsx(K,{children:"Unknown"})}},G=[{title:"Sno.",render:(d,y,T)=>T+1,width:60},{title:"Business Name",dataIndex:"businessName"},{title:"Contact Name",dataIndex:"contactName"},{title:"Email Id",dataIndex:"email"},{title:"Type",dataIndex:"type",render:d=>W(d)},{title:"Latest Note",render:(d,y)=>{var z;const T=(z=y.notes)==null?void 0:z[y.notes.length-1];return T?e.jsxs("div",{children:[e.jsx("small",{style:{color:"#888"},children:T.timestamp}),e.jsx("br",{}),T.text]}):e.jsx("em",{children:"No notes"})}},{title:"Status",render:(d,y)=>e.jsxs("span",{style:{color:y.status==="Inactive"?"red":"inherit"},children:[e.jsx(pe,{checked:y.status==="Active",onChange:T=>P(T,y),checkedChildren:"Active",unCheckedChildren:"Inactive"}),e.jsx("span",{style:{marginLeft:8},children:y.status})]})},{title:"Actions",render:(d,y)=>e.jsxs(e.Fragment,{children:[e.jsx(M,{icon:e.jsx(ue,{}),onClick:()=>b(y),type:"link"}),e.jsx(M,{icon:e.jsx(ze,{}),onClick:()=>D(y),type:"link"})]})}];return e.jsxs("div",{style:{padding:"24px"},children:[e.jsxs(Re,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[e.jsx(et,{level:4,children:"Business Accounts"}),e.jsx(M,{type:"primary",icon:e.jsx(he,{}),onClick:()=>{a(null),n(!0)},children:"Add Account"})]}),e.jsx(j,{placeholder:"Search by Business Name, Contact Name or Email",prefix:e.jsx(Pe,{}),value:c,onChange:d=>o(d.target.value),style:{width:400,marginBottom:16}}),e.jsxs(me,{activeKey:m,onChange:r,children:[e.jsx(ie,{tab:`Active Accounts (${_.length})`,children:e.jsx(ne,{columns:G,dataSource:_,pagination:!1,rowKey:"_id",loading:E,locale:{emptyText:e.jsx(ee,{description:"No active accounts to show"})}})},"active"),e.jsx(ie,{tab:`Inactive Accounts (${B.length})`,children:e.jsx(ne,{columns:G,dataSource:B,pagination:!1,rowKey:"_id",loading:E,locale:{emptyText:e.jsx(ee,{description:"No inactive accounts to show"})}})},"inactive")]})]}),e.jsx(Qe,{visible:t,onClose:()=>n(!1),onSave:H,initialValues:s}),e.jsx(He,{title:"Confirm Status Change",open:i,onOk:U,onCancel:()=>l(!1),okText:"Yes",cancelText:"No",confirmLoading:E,children:e.jsxs("p",{children:["Are you sure you want to change the status of"," ",e.jsx("strong",{children:h==null?void 0:h.businessName})," to"," ",e.jsx("strong",{children:I}),"?"]})}),w&&e.jsx(Ve,{visible:x,onClose:()=>u(!1),account:w,refreshAccounts:S})]})};export{wt as default};
