import{aJ as E,A as Y,C as Z,E as j,D as tt,aK as et,F as ot,aL as nt,r as d,H as T,ad as k,z as N,R as u,aM as at,aN as it,aO as rt,aP as ct,aQ as st,p as H}from"./index-DO2xjt6F.js";import{a as M}from"./index-xsH4HHeE.js";import lt from"./ProductList-CGQ4q4IE.js";import{N as dt,u as pt,a as ut,A as ft}from"./index-SRNB4Ddl.js";import{a as mt,b as gt}from"./index-Bsc_TH0P.js";import{k as bt,l as ht}from"./TextArea-BGWnTIhk.js";import{R as yt}from"./index-Ct-tprs0.js";import"./ProductForm-lhZ_kc8A.js";import"./index-DrHZk4bw.js";import"./row-CodefCjq.js";import"./index-CYt6p7Zn.js";import"./index-Dr8C4fpI.js";import"./PlusOutlined-CozxblFd.js";import"./Table-ytN7lPLD.js";import"./index-Cx609xem.js";import"./extendsObject-78o_rR5W.js";import"./index-B1nrcjBb.js";import"./useClosable-C4HlJzLH.js";import"./index-eu6zXQoe.js";import"./context-D0XoKNUb.js";import"./DeleteOutlined-cXOMvh7W.js";const $t=t=>{const{componentCls:e,notificationMarginEdge:n,animationMaxHeight:o}=t,a=`${e}-notice`,r=new E("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),l=new E("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),c=new E("antNotificationBottomFadeIn",{"0%":{bottom:t.calc(o).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),i=new E("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[e]:{[`&${e}-top, &${e}-bottom`]:{marginInline:0,[a]:{marginInline:"auto auto"}},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:l}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:c}},[`&${e}-topRight, &${e}-bottomRight`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:r}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[a]:{marginInlineEnd:"auto",marginInlineStart:0},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:i}}}}},vt=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],Ct={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},Pt=(t,e)=>{const{componentCls:n}=t;return{[`${n}-${e}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[e.startsWith("top")?"top":"bottom"]:0,[Ct[e]]:{value:0,_skip_check_:!0}}}}},St=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${t.componentCls}-notice`]:{opacity:0,transition:`opacity ${t.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${t.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},e)},xt=t=>{const e={};for(let n=1;n<t.notificationStackLayer;n++)e[`&:nth-last-child(${n+1})`]={background:t.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},e)},Ot=t=>{const{componentCls:e}=t;return Object.assign({[`${e}-stack`]:{[`& > ${e}-notice-wrapper`]:Object.assign({transition:`transform ${t.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},St(t))},[`${e}-stack:not(${e}-stack-expanded)`]:{[`& > ${e}-notice-wrapper`]:Object.assign({},xt(t))},[`${e}-stack${e}-stack-expanded`]:{[`& > ${e}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${t.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:t.margin,width:"100%",insetInline:0,bottom:t.calc(t.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},vt.map(n=>Pt(t,n)).reduce((n,o)=>Object.assign(Object.assign({},n),o),{}))},W=t=>{const{iconCls:e,componentCls:n,boxShadow:o,fontSizeLG:a,notificationMarginBottom:r,borderRadiusLG:l,colorSuccess:c,colorInfo:i,colorWarning:s,colorError:b,colorTextHeading:f,notificationBg:$,notificationPadding:x,notificationMarginEdge:v,notificationProgressBg:m,notificationProgressHeight:y,fontSize:C,lineHeight:g,width:O,notificationIconSize:P,colorText:w}=t,p=`${n}-notice`;return{position:"relative",marginBottom:r,marginInlineStart:"auto",background:$,borderRadius:l,boxShadow:o,[p]:{padding:x,width:O,maxWidth:`calc(100vw - ${j(t.calc(v).mul(2).equal())})`,overflow:"hidden",lineHeight:g,wordWrap:"break-word"},[`${p}-message`]:{marginBottom:t.marginXS,color:f,fontSize:a,lineHeight:t.lineHeightLG},[`${p}-description`]:{fontSize:C,color:w},[`${p}-closable ${p}-message`]:{paddingInlineEnd:t.paddingLG},[`${p}-with-icon ${p}-message`]:{marginBottom:t.marginXS,marginInlineStart:t.calc(t.marginSM).add(P).equal(),fontSize:a},[`${p}-with-icon ${p}-description`]:{marginInlineStart:t.calc(t.marginSM).add(P).equal(),fontSize:C},[`${p}-icon`]:{position:"absolute",fontSize:P,lineHeight:1,[`&-success${e}`]:{color:c},[`&-info${e}`]:{color:i},[`&-warning${e}`]:{color:s},[`&-error${e}`]:{color:b}},[`${p}-close`]:Object.assign({position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},ot(t)),[`${p}-progress`]:{position:"absolute",display:"block",appearance:"none",inlineSize:`calc(100% - ${j(l)} * 2)`,left:{_skip_check_:!0,value:l},right:{_skip_check_:!0,value:l},bottom:0,blockSize:y,border:0,"&, &::-webkit-progress-bar":{borderRadius:l,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:m},"&::-webkit-progress-value":{borderRadius:l,background:m}},[`${p}-actions`]:{float:"right",marginTop:t.marginSM}}},Nt=t=>{const{componentCls:e,notificationMarginBottom:n,notificationMarginEdge:o,motionDurationMid:a,motionEaseInOut:r}=t,l=`${e}-notice`,c=new E("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[e]:Object.assign(Object.assign({},tt(t)),{position:"fixed",zIndex:t.zIndexPopup,marginRight:{value:o,_skip_check_:!0},[`${e}-hook-holder`]:{position:"relative"},[`${e}-fade-appear-prepare`]:{opacity:"0 !important"},[`${e}-fade-enter, ${e}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:r,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${e}-fade-leave`]:{animationTimingFunction:r,animationFillMode:"both",animationDuration:a,animationPlayState:"paused"},[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationPlayState:"running"},[`${e}-fade-leave${e}-fade-leave-active`]:{animationName:c,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${l}-actions`]:{float:"left"}}})},{[e]:{[`${l}-wrapper`]:Object.assign({},W(t))}}]},q=t=>({zIndexPopup:t.zIndexPopupBase+et+50,width:384}),V=t=>{const e=t.paddingMD,n=t.paddingLG;return Z(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:n,notificationIconSize:t.calc(t.fontSizeLG).mul(t.lineHeightLG).equal(),notificationCloseButtonSize:t.calc(t.controlHeightLG).mul(.55).equal(),notificationMarginBottom:t.margin,notificationPadding:`${j(t.paddingMD)} ${j(t.paddingContentHorizontalLG)}`,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${t.colorPrimaryBorderHover}, ${t.colorPrimary})`})},U=Y("Notification",t=>{const e=V(t);return[Nt(e),$t(e),Ot(e)]},q),wt=nt(["Notification","PurePanel"],t=>{const e=`${t.componentCls}-notice`,n=V(t);return{[`${e}-pure-panel`]:Object.assign(Object.assign({},W(n)),{width:n.width,maxWidth:`calc(100vw - ${j(t.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}},q);var It=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n};function B(t,e){return e===null||e===!1?null:e||d.createElement(bt,{className:`${t}-close-icon`})}const Et={success:gt,info:yt,error:ht,warning:mt},X=t=>{const{prefixCls:e,icon:n,type:o,message:a,description:r,actions:l,role:c="alert"}=t;let i=null;return n?i=d.createElement("span",{className:`${e}-icon`},n):o&&(i=d.createElement(Et[o]||null,{className:N(`${e}-icon`,`${e}-icon-${o}`)})),d.createElement("div",{className:N({[`${e}-with-icon`]:i}),role:c},i,d.createElement("div",{className:`${e}-message`},a),d.createElement("div",{className:`${e}-description`},r),l&&d.createElement("div",{className:`${e}-actions`},l))},jt=t=>{const{prefixCls:e,className:n,icon:o,type:a,message:r,description:l,btn:c,actions:i,closable:s=!0,closeIcon:b,className:f}=t,$=It(t,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:x}=d.useContext(T),v=i??c,m=e||x("notification"),y=`${m}-notice`,C=k(m),[g,O,P]=U(m,C);return g(d.createElement("div",{className:N(`${y}-pure-panel`,O,n,P,C)},d.createElement(wt,{prefixCls:m}),d.createElement(dt,Object.assign({},$,{prefixCls:m,eventKey:"pure",duration:null,closable:s,className:N({notificationClassName:f}),closeIcon:B(m,b),content:d.createElement(X,{prefixCls:y,icon:o,type:a,message:r,description:l,actions:v})}))))};function Rt(t,e,n){let o;switch(t){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":o={left:0,top:e,bottom:"auto"};break;case"topRight":o={right:0,top:e,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":o={left:0,top:"auto",bottom:n};break;default:o={right:0,top:"auto",bottom:n};break}return o}function Mt(t){return{motionName:`${t}-fade`}}function _t(t,e,n){return typeof t<"u"?t:typeof(e==null?void 0:e.closeIcon)<"u"?e.closeIcon:n==null?void 0:n.closeIcon}var Lt=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n};const D=24,Ft=4.5,Ht="topRight",Tt=({children:t,prefixCls:e})=>{const n=k(e),[o,a,r]=U(e,n);return o(u.createElement(ut,{classNames:{list:N(a,r,n)}},t))},Bt=(t,{prefixCls:e,key:n})=>u.createElement(Tt,{prefixCls:e,key:n},t),zt=u.forwardRef((t,e)=>{const{top:n,bottom:o,prefixCls:a,getContainer:r,maxCount:l,rtl:c,onAllRemoved:i,stack:s,duration:b,pauseOnHover:f=!0,showProgress:$}=t,{getPrefixCls:x,getPopupContainer:v,notification:m,direction:y}=d.useContext(T),[,C]=at(),g=a||x("notification"),O=F=>Rt(F,n??D,o??D),P=()=>N({[`${g}-rtl`]:c??y==="rtl"}),w=()=>Mt(g),[p,I]=pt({prefixCls:g,style:O,className:P,motion:w,closable:!0,closeIcon:B(g),duration:b??Ft,getContainer:()=>(r==null?void 0:r())||(v==null?void 0:v())||document.body,maxCount:l,pauseOnHover:f,showProgress:$,onAllRemoved:i,renderNotifications:Bt,stack:s===!1?!1:{threshold:typeof s=="object"?s==null?void 0:s.threshold:void 0,offset:8,gap:C.margin}});return u.useImperativeHandle(e,()=>Object.assign(Object.assign({},p),{prefixCls:g,notification:m})),I});function K(t){const e=u.useRef(null);return it(),[u.useMemo(()=>{const o=c=>{var i;if(!e.current)return;const{open:s,prefixCls:b,notification:f}=e.current,$=`${b}-notice`,{message:x,description:v,icon:m,type:y,btn:C,actions:g,className:O,style:P,role:w="alert",closeIcon:p,closable:I}=c,F=Lt(c,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]),J=g??C,A=B($,_t(p,t,f));return s(Object.assign(Object.assign({placement:(i=t==null?void 0:t.placement)!==null&&i!==void 0?i:Ht},F),{content:u.createElement(X,{prefixCls:$,icon:m,type:y,message:x,description:v,actions:J,role:w}),className:N(y&&`${$}-${y}`,O,f==null?void 0:f.className),style:Object.assign(Object.assign({},f==null?void 0:f.style),P),closeIcon:A,closable:I??!!A}))},r={open:o,destroy:c=>{var i,s;c!==void 0?(i=e.current)===null||i===void 0||i.close(c):(s=e.current)===null||s===void 0||s.destroy()}};return["success","info","warning","error"].forEach(c=>{r[c]=i=>o(Object.assign(Object.assign({},i),{type:c}))}),r},[]),u.createElement(zt,Object.assign({key:"notification-holder"},t,{ref:e}))]}function At(t){return K(t)}let h=null,_=t=>t(),L=[],R={};function G(){const{getContainer:t,rtl:e,maxCount:n,top:o,bottom:a,showProgress:r,pauseOnHover:l}=R,c=(t==null?void 0:t())||document.body;return{getContainer:()=>c,rtl:e,maxCount:n,top:o,bottom:a,showProgress:r,pauseOnHover:l}}const Dt=u.forwardRef((t,e)=>{const{notificationConfig:n,sync:o}=t,{getPrefixCls:a}=d.useContext(T),r=R.prefixCls||a("notification"),l=d.useContext(ft),[c,i]=K(Object.assign(Object.assign(Object.assign({},n),{prefixCls:r}),l.notification));return u.useEffect(o,[]),u.useImperativeHandle(e,()=>{const s=Object.assign({},c);return Object.keys(s).forEach(b=>{s[b]=(...f)=>(o(),c[b].apply(c,f))}),{instance:s,sync:o}}),i}),Gt=u.forwardRef((t,e)=>{const[n,o]=u.useState(G),a=()=>{o(G)};u.useEffect(a,[]);const r=st(),l=r.getRootPrefixCls(),c=r.getIconPrefixCls(),i=r.getTheme(),s=u.createElement(Dt,{ref:e,sync:a,notificationConfig:n});return u.createElement(ct,{prefixCls:l,iconPrefixCls:c,theme:i},r.holderRender?r.holderRender(s):s)});function z(){if(!h){const t=document.createDocumentFragment(),e={fragment:t};h=e,_(()=>{rt()(u.createElement(Gt,{ref:o=>{const{instance:a,sync:r}=o||{};Promise.resolve().then(()=>{!e.instance&&a&&(e.instance=a,e.sync=r,z())})}}),t)});return}h.instance&&(L.forEach(t=>{switch(t.type){case"open":{_(()=>{h.instance.open(Object.assign(Object.assign({},R),t.config))});break}case"destroy":_(()=>{h==null||h.instance.destroy(t.key)});break}}),L=[])}function kt(t){R=Object.assign(Object.assign({},R),t),_(()=>{var e;(e=h==null?void 0:h.sync)===null||e===void 0||e.call(h)})}function Q(t){L.push({type:"open",config:t}),z()}const Wt=t=>{L.push({type:"destroy",key:t}),z()},qt=["success","info","warning","error"],Vt={open:Q,destroy:Wt,config:kt,useNotification:At,_InternalPanelDoNotUseOrYouWillBeFired:jt},S=Vt;qt.forEach(t=>{S[t]=e=>Q(Object.assign(Object.assign({},e),{type:t}))});const me=()=>{const[t,e]=d.useState([]),[n,o]=d.useState(!0);d.useEffect(()=>{a()},[]);const a=async()=>{try{o(!0);const i=await M.get("/api/products");e(i.data)}catch{S.error({message:"Failed to load products"})}finally{o(!1)}},r=async i=>{try{const s=await M.post("/api/products",i);e([...t,s.data]),S.success({message:"Product added successfully"})}catch{S.error({message:"Failed to add product"})}},l=async i=>{try{await M.put(`/api/products/${i.id}`,i),e(t.map(s=>s.id===i.id?i:s)),S.success({message:"Product updated successfully"})}catch{S.error({message:"Failed to update product"})}},c=async i=>{try{await M.delete(`/api/products/${i}`),e(t.filter(s=>s.id!==i)),S.success({message:"Product deleted successfully"})}catch{S.error({message:"Failed to delete product"})}};return H.jsxs("div",{className:"product-page",children:[H.jsx("h1",{children:"Product Management"}),H.jsx(lt,{products:t,onAdd:r,onEdit:l,onDelete:c})]})};export{me as default};
